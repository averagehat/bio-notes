getattr(sys.modules[__name__], 'foo')('A', 'B')

Get SNPS only:

vcf_filter.py 780.bam.vcf snp-only | grep -E "^#|PASS" | sed  's/\<PASS\>/-/' | vim -
\

Differ


I wrote a tool named vcf2sqlite: it put one ore more VCFs into a local sqlite3 database. The schema is simple and you can query the database using some simple SQL statements.

$ sqlite3 -column -header  db.sqlite \
   "select SAMPLE.name,VCFCALL.value,count(*) from VCFCALL,SAMPLE where SAMPLE.id=VCFCALL.sample_id and prop='GT' group by SAMPLE.id,VCFCALL.value"
compare-vcf

Can't locate Vcf.pm in @INC (@INC contains: /usr/local/lib64/perl5 /usr/local/share/perl5 /usr/lib64/perl5/vendor_perl /usr/share/perl5/vendor_perl /usr/lib64/perl5 /usr/share/perl5 .) at /home/AMED/michael.panciera/projects/vcftools/trunk/bin/vcf-compare line 9.
BEGIN failed--compilation aborted at /home/AMED/michael.panciera/projects/vcftools/trunk/bin/vcf-compare line 9.
 export PERL5LIB=/home/AMED/michael.panciera/projects/vcftools/trunk/perl
export PATH=$PATH:/home/AMED/michael.panciera/projects/vcftools/trunk/bin/

#vcfs must be index by tabix first
 bgzip $o.vcf; tabix -p vcf $o.vcf.gz

# This file was generated by vcf-compare.
# The command line was: vcf-compare(r953) /home/AMED/michael.panciera/projects/me/subsample-data/947/947.bam.vcf.gz /home/AMED/michael.panciera/projects/me/subsample-data/dengue-5000/Den4_AY618992_1_Thailand_2001_Den4_1.minimized.5000.bam.vcf.gz
#
#VN 'Venn-Diagram Numbers'. Use `grep ^VN | cut -f 2-` to extract this part.
#VN The columns are: 
#VN        1  .. number of sites unique to this particular combination of files
#VN        2- .. combination of files and space-separated number, a fraction of sites in the file
VN      10649   /home/AMED/michael.panciera/projects/me/subsample-data/947/947.bam.vcf.gz (100.0%)      /home/AMED/michael.panciera/projects/me/subsample-data/dengue-5000/Den4_AY618992_1_Thailand_2001_Den4_1.minimized.5000.bam.vcf.gz (100.0%)
#SN Summary Numbers. Use `grep ^SN | cut -f 2-` to extract this part.
SN      Number of REF matches:  10649
SN      Number of ALT matches:  7070
SN      Number of REF mismatches:       0
SN      Number of ALT mismatches:       2570
SN      Number of samples in GT comparison:     0

